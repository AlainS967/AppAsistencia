<ion-header class="ion-no-border">
  <ion-toolbar color="secondary">
      <ion-buttons slot="start">
        <ion-back-button defaultHref="/login"></ion-back-button>
      </ion-buttons>
      <div class="text-center flex-grow-1">
        <img src="assets/images/Logo_DuocUC.svg.png" alt="" class="Logo-DuocUC mt-2">
        <ion-title class="text-center fs-2 mb-2">{{ 'app.title' | translate }}</ion-title>
      </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="h-100 d-flex flex-column justify-content-evenly content">
    <ion-card *ngIf="!submitted" class="p-2">
      <ion-card-header>
        <ion-card-title class="text-center fs-2">{{ 'rc.mail' | translate }}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <form [formGroup]="emailForm" (ngSubmit)="getQuestion()">
          <ion-input label="{{ 'rc.correo' | translate }}" [clearInput]="true" label-placement="floating" fill="outline"
            placeholder="Ej: atorres@duocuc.cl" type="email" formControlName="email" class="mb-3"></ion-input>
          <ion-button shape="round" expand="block" class="fs-6" type="submit" [disabled]="emailError || !email">{{ 'rc.recover' | translate }}</ion-button>
        </form>
      </ion-card-content>
    </ion-card>
    <ion-card *ngIf="submitted" class="p-2">
      <ion-card-header>
        <ion-card-title class="text-center">{{securityQuestion}}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <form [formGroup]="answerForm" (ngSubmit)="recover()">
          <ion-input label="{{ 'rc.answer' | translate }}" [clearInput]="true" label-placement="floating" fill="outline"
            type="text" class="mb-3" formControlName="answer"></ion-input>
          <ion-button shape="round" expand="full" class="fs-6" type="submit" [disabled]="answerError">{{ 'rc.recover' | translate }}</ion-button>
        </form>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
